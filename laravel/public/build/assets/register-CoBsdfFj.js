document.addEventListener("DOMContentLoaded",function(){const o=document.querySelectorAll(".type-option"),i=document.querySelector(".donor-form"),a=document.querySelector(".recipient-form");o.forEach(e=>{e.addEventListener("click",function(){o.forEach(n=>n.classList.remove("active")),this.classList.add("active"),this.getAttribute("data-type")==="donor"?(i.classList.add("active"),a.classList.remove("active")):(i.classList.remove("active"),a.classList.add("active"))})});const r=document.getElementById("donor-registration-form");r&&r.addEventListener("submit",function(e){const t={fullname:document.getElementById("donor-fullname").value,email:document.getElementById("donor-email").value,phone:document.getElementById("donor-phone").value,password:document.getElementById("donor-password").value,address:document.getElementById("donor-address").value,city:document.getElementById("donor-city").value,postal:document.getElementById("donor-postal").value,type:document.getElementById("donor-type").value,description:document.getElementById("donor-description").value,terms:document.getElementById("donor-terms").checked};if(!s(t)){e.preventDefault();return}});const l=document.getElementById("recipient-registration-form");l&&l.addEventListener("submit",function(e){const t={name:document.getElementById("recipient-name").value,email:document.getElementById("recipient-email").value,phone:document.getElementById("recipient-phone").value,password:document.getElementById("recipient-password").value,address:document.getElementById("recipient-address").value,city:document.getElementById("recipient-city").value,postal:document.getElementById("recipient-postal").value,type:document.getElementById("recipient-type").value,capacity:document.getElementById("recipient-capacity").value,description:document.getElementById("recipient-description").value,legalStatus:document.getElementById("legal-status").value,legalNumber:document.getElementById("legal-number").value,legalDate:document.getElementById("legal-date").value,legalNotary:document.getElementById("legal-notary").value,contactPerson:document.getElementById("contact-person").value,contactPosition:document.getElementById("contact-position").value,contactId:document.getElementById("contact-id").value,operationalHour:document.getElementById("operational-hour").value,pickupAvailability:document.getElementById("pickup-availability").value,storageCapacity:document.getElementById("storage-capacity").value,refrigeration:document.getElementById("refrigeration").value,transportation:document.getElementById("transportation").value,terms:document.getElementById("recipient-terms").checked,verificationConsent:document.getElementById("verification-consent").checked},n=document.getElementById("doc-akte").files[0],d=document.getElementById("doc-sk").files[0];if(document.getElementById("doc-npwp").files[0],document.getElementById("doc-other").files[0],!u(t,n,d)){e.preventDefault();return}});function s(e){return!e.fullname||!e.email||!e.phone||!e.password||!e.address||!e.city||!e.postal||!e.type?(alert("Silakan lengkapi semua field yang wajib diisi"),!1):c(e.email)?e.password.length<6?(alert("Password minimal 6 karakter"),!1):e.terms?!0:(alert("Anda harus menyetujui syarat dan ketentuan"),!1):(alert("Email tidak valid"),!1)}function u(e,t,n){return!e.name||!e.email||!e.phone||!e.password||!e.address||!e.city||!e.postal||!e.type||!e.capacity||!e.description||!e.legalStatus||!e.contactPerson||!e.contactPosition||!e.contactId||!e.operationalHour||!e.pickupAvailability||!e.storageCapacity||!e.refrigeration||!e.transportation?(alert("Silakan lengkapi semua field yang wajib diisi"),!1):c(e.email)?e.password.length<6?(alert("Password minimal 6 karakter"),!1):(e.legalStatus==="foundation"||e.legalStatus==="association")&&(!t||!n)?(alert("Untuk status legal Yayasan atau Perkumpulan, Akta Pendirian dan SK Kemenkumham wajib diunggah"),!1):e.terms?e.verificationConsent?!0:(alert("Anda harus menyetujui proses verifikasi"),!1):(alert("Anda harus menyetujui syarat dan ketentuan"),!1):(alert("Email tidak valid"),!1)}function c(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}});
