<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pengaturan - RaihAsa</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="../css/components.css">
    <link rel="stylesheet" href="../css/admin.css">
</head>
<body>
    <!-- Admin Sidebar -->
    <div class="admin-wrapper">
        <nav id="sidebar" class="sidebar">
            <div class="sidebar-header">
                <a href="../index.html" class="logo">
                    <i class="fas fa-seedling me-2"></i>
                    <span>RaihAsa</span>
                </a>
            </div>
            
            <ul class="list-unstyled components">
                <li>
                    <a href="dashboard.html">
                        <i class="fas fa-tachometer-alt"></i>
                        Dashboard
                    </a>
                </li>
                <li>
                    <a href="#usersSubmenu" data-bs-toggle="collapse" aria-expanded="false" class="dropdown-toggle">
                        <i class="fas fa-users"></i>
                        Manajemen Pengguna
                    </a>
                    <ul class="collapse list-unstyled" id="usersSubmenu">
                        <li>
                            <a href="users-donor.html">Donor</a>
                        </li>
                        <li>
                            <a href="users-recipient.html">Penerima</a>
                        </li>
                    </ul>
                </li>
                <li>
                    <a href="#donationsSubmenu" data-bs-toggle="collapse" aria-expanded="false" class="dropdown-toggle">
                        <i class="fas fa-hand-holding-heart"></i>
                        Manajemen Donasi
                    </a>
                    <ul class="collapse list-unstyled" id="donationsSubmenu">
                        <li>
                            <a href="donations-food-rescue.html">Food Rescue</a>
                        </li>
                        <li>
                            <a href="donations-wishlist.html">Wishlist</a>
                        </li>
                    </ul>
                </li>
                <li>
                    <a href="verification.html">
                        <i class="fas fa-certificate"></i>
                        Verifikasi Penerima
                    </a>
                </li>
                <li>
                    <a href="reports.html">
                        <i class="fas fa-chart-bar"></i>
                        Laporan
                    </a>
                </li>
                <li class="active">
                    <a href="settings.html">
                        <i class="fas fa-cog"></i>
                        Pengaturan
                    </a>
                </li>
            </ul>
            
            <div class="sidebar-footer">
                <a href="../index.html" class="btn btn-outline-light btn-sm">
                    <i class="fas fa-sign-out-alt me-2"></i> Keluar
                </a>
            </div>
        </nav>
        
        <!-- Page Content -->
        <div id="content" class="content">
            <!-- Admin Navbar -->
            <nav class="navbar navbar-expand-lg navbar-light bg-light">
                <div class="container-fluid">
                    <button type="button" id="sidebarCollapse" class="btn btn-light">
                        <i class="fas fa-bars"></i>
                    </button>
                    
                    <div class="ms-auto d-flex align-items-center">
                        <div class="dropdown">
                            <button class="btn btn-light dropdown-toggle" type="button" id="userDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                                <i class="fas fa-user-circle me-2"></i>
                                Admin
                            </button>
                            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
                                <li><a class="dropdown-item" href="profile.html">Profil</a></li>
                                <li><a class="dropdown-item" href="settings.html">Pengaturan</a></li>
                                <li><hr class="dropdown-divider"></li>
                                <li><a class="dropdown-item" href="../index.html">Keluar</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </nav>
            
            <!-- Settings Content -->
            <div class="container-fluid">
                <div class="d-sm-flex align-items-center justify-content-between mb-4">
                    <h1 class="h3 mb-0 text-gray-800">Pengaturan</h1>
                    <button class="d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm" id="saveSettings">
                        <i class="fas fa-save fa-sm text-white-50"></i> Simpan Perubahan
                    </button>
                </div>
                
                <!-- Settings Tabs -->
                <div class="card shadow mb-4">
                    <div class="card-header">
                        <ul class="nav nav-tabs card-header-tabs" id="settingsTabs" role="tablist">
                            <li class="nav-item" role="presentation">
                                <button class="nav-link active" id="general-tab" data-bs-toggle="tab" data-bs-target="#general" type="button" role="tab" aria-controls="general" aria-selected="true">Umum</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="email-tab" data-bs-toggle="tab" data-bs-target="#email" type="button" role="tab" aria-controls="email" aria-selected="false">Email</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="notification-tab" data-bs-toggle="tab" data-bs-target="#notification" type="button" role="tab" aria-controls="notification" aria-selected="false">Notifikasi</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="security-tab" data-bs-toggle="tab" data-bs-target="#security" type="button" role="tab" aria-controls="security" aria-selected="false">Keamanan</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="api-tab" data-bs-toggle="tab" data-bs-target="#api" type="button" role="tab" aria-controls="api" aria-selected="false">API</button>
                            </li>
                        </ul>
                    </div>
                    <div class="card-body">
                        <div class="tab-content" id="settingsTabsContent">
                            <!-- General Settings -->
                            <div class="tab-pane fade show active" id="general" role="tabpanel" aria-labelledby="general-tab">
                                <h5 class="mb-4">Pengaturan Umum</h5>
                                <form>
                                    <div class="row mb-3">
                                        <div class="col-md-6">
                                            <label for="siteName" class="form-label">Nama Situs</label>
                                            <input type="text" class="form-control" id="siteName" value="RaihAsa">
                                        </div>
                                        <div class="col-md-6">
                                            <label for="siteUrl" class="form-label">URL Situs</label>
                                            <input type="text" class="form-control" id="siteUrl" value="https://raihasa.com">
                                        </div>
                                    </div>
                                    <div class="row mb-3">
                                        <div class="col-md-6">
                                            <label for="adminEmail" class="form-label">Email Admin</label>
                                            <input type="email" class="form-control" id="adminEmail" value="admin@raihasa.com">
                                        </div>
                                        <div class="col-md-6">
                                            <label for="timezone" class="form-label">Zona Waktu</label>
                                            <select class="form-select" id="timezone">
                                                <option value="UTC+7" selected>UTC+7 (WIB)</option>
                                                <option value="UTC+8">UTC+8 (WITA)</option>
                                                <option value="UTC+9">UTC+9 (WIT)</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <label for="siteDescription" class="form-label">Deskripsi Situs</label>
                                        <textarea class="form-control" id="siteDescription" rows="3">Platform donasi makanan untuk mengurangi pemborosan dan membantu mereka yang membutuhkan.</textarea>
                                    </div>
                                    <div class="mb-3">
                                        <label for="siteLogo" class="form-label">Logo Situs</label>
                                        <div class="input-group">
                                            <input type="text" class="form-control" id="siteLogo" value="/assets/images/logo.png" readonly>
                                            <button class="btn btn-outline-secondary" type="button">Pilih File</button>
                                        </div>
                                        <div class="mt-2">
                                            <img src="/assets/images/logo.png" alt="Logo" height="50">
                                        </div>
                                    </div>
                                    <div class="mb-3 form-check">
                                        <input type="checkbox" class="form-check-input" id="maintenanceMode">
                                        <label class="form-check-label" for="maintenanceMode">Mode Pemeliharaan</label>
                                        <small class="form-text text-muted">Aktifkan untuk menonaktifkan situs untuk umum</small>
                                    </div>
                                    <div class="mb-3 form-check">
                                        <input type="checkbox" class="form-check-input" id="registrationEnabled" checked>
                                        <label class="form-check-label" for="registrationEnabled">Aktifkan Pendaftaran Pengguna</label>
                                    </div>
                                </form>
                            </div>
                            
                            <!-- Email Settings -->
                            <div class="tab-pane fade" id="email" role="tabpanel" aria-labelledby="email-tab">
                                <h5 class="mb-4">Pengaturan Email</h5>
                                <form>
                                    <div class="mb-3">
                                        <label for="emailProtocol" class="form-label">Protokol Email</label>
                                        <select class="form-select" id="emailProtocol">
                                            <option value="smtp" selected>SMTP</option>
                                            <option value="sendmail">Sendmail</option>
                                            <option value="phpmail">PHP Mail</option>
                                        </select>
                                    </div>
                                    <div class="row mb-3">
                                        <div class="col-md-6">
                                            <label for="smtpHost" class="form-label">SMTP Host</label>
                                            <input type="text" class="form-control" id="smtpHost" value="smtp.example.com">
                                        </div>
                                        <div class="col-md-6">
                                            <label for="smtpPort" class="form-label">SMTP Port</label>
                                            <input type="number" class="form-control" id="smtpPort" value="587">
                                        </div>
                                    </div>
                                    <div class="row mb-3">
                                        <div class="col-md-6">
                                            <label for="smtpUsername" class="form-label">SMTP Username</label>
                                            <input type="text" class="form-control" id="smtpUsername" value="noreply@raihasa.com">
                                        </div>
                                        <div class="col-md-6">
                                            <label for="smtpPassword" class="form-label">SMTP Password</label>
                                            <input type="password" class="form-control" id="smtpPassword" value="********">
                                        </div>
                                    </div>
                                    <div class="mb-3 form-check">
                                        <input type="checkbox" class="form-check-input" id="smtpEncryption" checked>
                                        <label class="form-check-label" for="smtpEncryption">Gunakan Enkripsi (TLS/SSL)</label>
                                    </div>
                                    <div class="mb-3">
                                        <label for="fromEmail" class="form-label">Email Pengirim</label>
                                        <input type="email" class="form-control" id="fromEmail" value="noreply@raihasa.com">
                                    </div>
                                    <div class="mb-3">
                                        <label for="fromName" class="form-label">Nama Pengirim</label>
                                        <input type="text" class="form-control" id="fromName" value="RaihAsa">
                                    </div>
                                    <div class="mb-3">
                                        <button type="button" class="btn btn-outline-primary">Kirim Email Tes</button>
                                    </div>
                                </form>
                            </div>
                            
                            <!-- Notification Settings -->
                            <div class="tab-pane fade" id="notification" role="tabpanel" aria-labelledby="notification-tab">
                                <h5 class="mb-4">Pengaturan Notifikasi</h5>
                                <form>
                                    <div class="mb-3">
                                        <h6>Notifikasi Email</h6>
                                        <div class="form-check form-switch mb-2">
                                            <input class="form-check-input" type="checkbox" id="newUserNotification" checked>
                                            <label class="form-check-label" for="newUserNotification">Pengguna Baru Mendaftar</label>
                                        </div>
                                        <div class="form-check form-switch mb-2">
                                            <input class="form-check-input" type="checkbox" id="newDonationNotification" checked>
                                            <label class="form-check-label" for="newDonationNotification">Donasi Baru</label>
                                        </div>
                                        <div class="form-check form-switch mb-2">
                                            <input class="form-check-input" type="checkbox" id="verificationRequestNotification" checked>
                                            <label class="form-check-label" for="verificationRequestNotification">Permintaan Verifikasi Baru</label>
                                        </div>
                                        <div class="form-check form-switch mb-2">
                                            <input class="form-check-input" type="checkbox" id="donationCompletedNotification">
                                            <label class="form-check-label" for="donationCompletedNotification">Donasi Selesai</label>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <h6>Notifikasi Internal</h6>
                                        <div class="form-check form-switch mb-2">
                                            <input class="form-check-input" type="checkbox" id="systemAlerts" checked>
                                            <label class="form-check-label" for="systemAlerts">Alert Sistem</label>
                                        </div>
                                        <div class="form-check form-switch mb-2">
                                            <input class="form-check-input" type="checkbox" id="securityAlerts" checked>
                                            <label class="form-check-label" for="securityAlerts">Alert Keamanan</label>
                                        </div>
                                        <div class="form-check form-switch mb-2">
                                            <input class="form-check-input" type="checkbox" id="updateNotifications">
                                            <label class="form-check-label" for="updateNotifications">Pembaruan Sistem</label>
                                        </div>
                                    </div>
                                </form>
                            </div>
                            
                            <!-- Security Settings -->
                            <div class="tab-pane fade" id="security" role="tabpanel" aria-labelledby="security-tab">
                                <h5 class="mb-4">Pengaturan Keamanan</h5>
                                <form>
                                    <div class="mb-3">
                                        <h6>Kebijakan Kata Sandi</h6>
                                        <div class="form-check form-switch mb-2">
                                            <input class="form-check-input" type="checkbox" id="strongPassword" checked>
                                            <label class="form-check-label" for="strongPassword">Wajibkan Kata Sandi Kuat</label>
                                        </div>
                                        <div class="form-check form-switch mb-2">
                                            <input class="form-check-input" type="checkbox" id="passwordExpiration">
                                            <label class="form-check-label" for="passwordExpiration">Kadaluarsa Kata Sandi</label>
                                        </div>
                                        <div class="row mb-3">
                                            <div class="col-md-6">
                                                <label for="minPasswordLength" class="form-label">Panjang Minimum Kata Sandi</label>
                                                <input type="number" class="form-control" id="minPasswordLength" value="8" min="6">
                                            </div>
                                            <div class="col-md-6">
                                                <label for="passwordExpirationDays" class="form-label">Kadaluarsa (Hari)</label>
                                                <input type="number" class="form-control" id="passwordExpirationDays" value="90" min="30">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <h6>Keamanan Login</h6>
                                        <div class="form-check form-switch mb-2">
                                            <input class="form-check-input" type="checkbox" id="twoFactorAuth">
                                            <label class="form-check-label" for="twoFactorAuth">Autentikasi Dua Faktor</label>
                                        </div>
                                        <div class="form-check form-switch mb-2">
                                            <input class="form-check-input" type="checkbox" id="loginAttempts" checked>
                                            <label class="form-check-label" for="loginAttempts">Batasi Percobaan Login</label>
                                        </div>
                                        <div class="row mb-3">
                                            <div class="col-md-6">
                                                <label for="maxLoginAttempts" class="form-label">Maksimum Percobaan</label>
                                                <input type="number" class="form-control" id="maxLoginAttempts" value="5" min="3">
                                            </div>
                                            <div class="col-md-6">
                                                <label for="lockoutDuration" class="form-label">Durasi Kunci (Menit)</label>
                                                <input type="number" class="form-control" id="lockoutDuration" value="15" min="5">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <h6>Session</h6>
                                        <div class="row mb-3">
                                            <div class="col-md-6">
                                                <label for="sessionTimeout" class="form-label">Timeout Session (Menit)</label>
                                                <input type="number" class="form-control" id="sessionTimeout" value="30" min="10">
                                            </div>
                                            <div class="col-md-6">
                                                <label for="rememberMeDuration" class="form-label">Ingat Saya (Hari)</label>
                                                <input type="number" class="form-control" id="rememberMeDuration" value="30" min="1">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#confirmClearSessions">
                                            Hapus Semua Session Aktif
                                        </button>
                                    </div>
                                </form>
                            </div>
                            
                            <!-- API Settings -->
                            <div class="tab-pane fade" id="api" role="tabpanel" aria-labelledby="api-tab">
                                <h5 class="mb-4">Pengaturan API</h5>
                                <form>
                                    <div class="mb-3">
                                        <h6>API Key</h6>
                                        <div class="input-group mb-3">
                                            <input type="text" class="form-control" id="apiKey" value="raihasa_api_1234567890abcdef" readonly>
                                            <button class="btn btn-outline-secondary" type="button" id="copyApiKey">Salin</button>
                                            <button class="btn btn-outline-primary" type="button" id="regenerateApiKey">Regenerasi</button>
                                        </div>
                                        <small class="form-text text-muted">API Key digunakan untuk autentikasi akses API</small>
                                    </div>
                                    <div class="mb-3">
                                        <h6>Rate Limiting</h6>
                                        <div class="form-check form-switch mb-2">
                                            <input class="form-check-input" type="checkbox" id="enableRateLimiting" checked>
                                            <label class="form-check-label" for="enableRateLimiting">Aktifkan Rate Limiting</label>
                                        </div>
                                        <div class="row mb-3">
                                            <div class="col-md-6">
                                                <label for="rateLimitRequests" class="form-label">Maksimum Permintaan</label>
                                                <input type="number" class="form-control" id="rateLimitRequests" value="1000" min="100">
                                            </div>
                                            <div class="col-md-6">
                                                <label for="rateLimitWindow" class="form-label">Jendela Waktu (Menit)</label>
                                                <input type="number" class="form-control" id="rateLimitWindow" value="60" min="1">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <h6>API Access Log</h6>
                                        <div class="form-check form-switch mb-2">
                                            <input class="form-check-input" type="checkbox" id="enableApiLogging" checked>
                                            <label class="form-check-label" for="enableApiLogging">Aktifkan Logging Akses API</label>
                                        </div>
                                        <div class="form-check form-switch mb-2">
                                            <input class="form-check-input" type="checkbox" id="logSensitiveData">
                                            <label class="form-check-label" for="logSensitiveData">Log Data Sensitif</label>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <h6>Whitelist IP</h6>
                                        <div class="form-check form-switch mb-2">
                                            <input class="form-check-input" type="checkbox" id="enableIpWhitelist">
                                            <label class="form-check-label" for="enableIpWhitelist">Aktifkan IP Whitelist</label>
                                        </div>
                                        <div class="mb-3">
                                            <label for="ipWhitelist" class="form-label">Alamat IP yang Diizinkan</label>
                                            <textarea class="form-control" id="ipWhitelist" rows="3" placeholder="Satu IP per baris"></textarea>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Confirm Clear Sessions Modal -->
    <div class="modal fade" id="confirmClearSessions" tabindex="-1" aria-labelledby="confirmClearSessionsLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="confirmClearSessionsLabel">Konfirmasi Hapus Session</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>Apakah Anda yakin ingin menghapus semua session aktif? Ini akan memaksa semua pengguna untuk login kembali.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Batal</button>
                    <button type="button" class="btn btn-danger">Hapus Semua Session</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Custom JS -->
    <script src="../js/admin.js"></script>
</body>
</html>